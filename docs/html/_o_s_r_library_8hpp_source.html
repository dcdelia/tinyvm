<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>TinyVM + OSRKit: include/OSRLibrary.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TinyVM + OSRKit
   &#160;<span id="projectnumber">CGO&#39;16 Artifact Evaluation</span>
   </div>
   <div id="projectbrief">A simple VM to exercise On-Stack Replacement with MCJIT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">OSRLibrary.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* ===============================================================</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Main core of the OSR library.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Author:      (C) 2015 Daniele Cono D&#39;Elia</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * License:     See the end of this file for license information</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * =============================================================== */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#ifndef TINYVM_OSRLIBRARY_H</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define TINYVM_OSRLIBRARY_H</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;Liveness.hpp&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;StateMap.hpp&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;llvm/ADT/SmallVector.h&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;llvm/IR/Constants.h&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;llvm/IR/Function.h&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;llvm/IR/Instructions.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;llvm/IR/LLVMContext.h&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;llvm/Transforms/Utils/ValueMapper.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_o_s_r_library.html">   55</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_o_s_r_library.html">OSRLibrary</a> {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="class_o_s_r_library.html#a7166b51530433856a914ef4c77251468">   63</a></span>&#160;        <span class="keyword">typedef</span> std::vector&lt;llvm::Instruction*&gt; <a class="code" href="class_o_s_r_library.html#a7166b51530433856a914ef4c77251468">OSRCond</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="class_o_s_r_library.html#ad15ff58ec41e3a7dea14361df86bedb9">   66</a></span>&#160;        <span class="keyword">typedef</span> std::pair&lt;llvm::Function*, llvm::Function*&gt; <a class="code" href="class_o_s_r_library.html#ad15ff58ec41e3a7dea14361df86bedb9">OSRPair</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html">   69</a></span>&#160;        <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html">OSRPointConfig</a> {</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a79ee42cc892700c4ce5fb988f001804f">   71</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a79ee42cc892700c4ce5fb988f001804f">verbose</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a99412a5d51b083acd9cb0d997abdc018">   73</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a99412a5d51b083acd9cb0d997abdc018">updateF1</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">   75</a></span>&#160;            <span class="keywordtype">int</span> <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">branchTakenProb</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#af3fd85e2efeacf8fc6855c70dc7d61c1">   78</a></span>&#160;            <span class="keyword">const</span> std::string* <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#af3fd85e2efeacf8fc6855c70dc7d61c1">nameForNewF1</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5f0f5faf47ae88698d9ed9e93d1fb366">   80</a></span>&#160;            llvm::Module* <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5f0f5faf47ae88698d9ed9e93d1fb366">modForNewF1</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a9f962c18b79242c18c0af3e9e9068317">   82</a></span>&#160;            <a class="code" href="class_state_map.html">StateMap</a>** <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a9f962c18b79242c18c0af3e9e9068317">ptrForF1NewToF1Map</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#acdb724277ed62462b9e6a99a26b1e3e1">   85</a></span>&#160;            <span class="keyword">const</span> std::string* <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#acdb724277ed62462b9e6a99a26b1e3e1">nameForNewF2</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a8ef81a640a5f184c8becfa76cbc04070">   88</a></span>&#160;            llvm::Module* <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a8ef81a640a5f184c8becfa76cbc04070">modForNewF2</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a80e385e570269808de0a472bd0884d6a">   90</a></span>&#160;            <a class="code" href="class_state_map.html">StateMap</a>** <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a80e385e570269808de0a472bd0884d6a">ptrForF2NewToF2Map</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a7f1ebe54c03a771bf4309f54944b4a2c">  124</a></span>&#160;            <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a7f1ebe54c03a771bf4309f54944b4a2c">OSRPointConfig</a>(<span class="keywordtype">bool</span> <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a79ee42cc892700c4ce5fb988f001804f">verbose</a> = <span class="keyword">false</span>, <span class="keywordtype">bool</span> <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a99412a5d51b083acd9cb0d997abdc018">updateF1</a> = <span class="keyword">true</span>,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">branchTakenProb</a> = -1,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    <span class="keyword">const</span> std::string* <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#af3fd85e2efeacf8fc6855c70dc7d61c1">nameForNewF1</a> = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    llvm::Module* <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5f0f5faf47ae88698d9ed9e93d1fb366">modForNewF1</a> = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <a class="code" href="class_state_map.html">StateMap</a>** <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a9f962c18b79242c18c0af3e9e9068317">ptrForF1NewToF1Map</a> = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    <span class="keyword">const</span> std::string* <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#acdb724277ed62462b9e6a99a26b1e3e1">nameForNewF2</a> = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    llvm::Module* <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a8ef81a640a5f184c8becfa76cbc04070">modForNewF2</a> = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    <a class="code" href="class_state_map.html">StateMap</a>** <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a80e385e570269808de0a472bd0884d6a">ptrForF2NewToF2Map</a> = <span class="keyword">nullptr</span>) :</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a79ee42cc892700c4ce5fb988f001804f">verbose</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a79ee42cc892700c4ce5fb988f001804f">verbose</a>), <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a99412a5d51b083acd9cb0d997abdc018">updateF1</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a99412a5d51b083acd9cb0d997abdc018">updateF1</a>),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">branchTakenProb</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">branchTakenProb</a>),</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#af3fd85e2efeacf8fc6855c70dc7d61c1">nameForNewF1</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#af3fd85e2efeacf8fc6855c70dc7d61c1">nameForNewF1</a>), <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5f0f5faf47ae88698d9ed9e93d1fb366">modForNewF1</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5f0f5faf47ae88698d9ed9e93d1fb366">modForNewF1</a>),</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a9f962c18b79242c18c0af3e9e9068317">ptrForF1NewToF1Map</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a9f962c18b79242c18c0af3e9e9068317">ptrForF1NewToF1Map</a>),</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#acdb724277ed62462b9e6a99a26b1e3e1">nameForNewF2</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#acdb724277ed62462b9e6a99a26b1e3e1">nameForNewF2</a>), <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a8ef81a640a5f184c8becfa76cbc04070">modForNewF2</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a8ef81a640a5f184c8becfa76cbc04070">modForNewF2</a>),</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a80e385e570269808de0a472bd0884d6a">ptrForF2NewToF2Map</a>(<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a80e385e570269808de0a472bd0884d6a">ptrForF2NewToF2Map</a>) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">branchTakenProb</a> != -1 &amp;&amp; (<a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">branchTakenProb</a> &gt; 100 || <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">branchTakenProb</a> &lt; 0)) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    llvm::report_fatal_error(<span class="stringliteral">&quot;OSR probability should be either -1 or an integer number between 0 and 100&quot;</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            };</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        } <a class="code" href="class_o_s_r_library.html#adbe6f9bc3a466933756c32d83471bc74">OSRPointConfig</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="class_o_s_r_library.html#a52c23a14d170e2f9a14d3cc537ced1b1">  152</a></span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span>* (*DestFunGenerator)(</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                    llvm::Function* F1,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                    llvm::Instruction* OSRSrc,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                    <span class="keywordtype">void</span>* extra,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                    <span class="keywordtype">void</span>* profDataAddr);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keyword">static</span> <a class="code" href="class_o_s_r_library.html#ad15ff58ec41e3a7dea14361df86bedb9">OSRPair</a> <a class="code" href="class_o_s_r_library.html#abc78df8192b40487f6681e8a8b9da055">insertResolvedOSR</a>(</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                    llvm::LLVMContext &amp;Context,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                    llvm::Function&amp; F1,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                    llvm::Instruction&amp; OSRSrc,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                    llvm::Function&amp; F2,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                    llvm::Instruction&amp; LPad,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                    <a class="code" href="class_o_s_r_library.html#a7166b51530433856a914ef4c77251468">OSRCond</a>&amp; cond,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                    <a class="code" href="class_state_map.html">StateMap</a>&amp; M,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                    <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html">OSRPointConfig</a> &amp;config);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keyword">static</span> <a class="code" href="class_o_s_r_library.html#ad15ff58ec41e3a7dea14361df86bedb9">OSRPair</a> <a class="code" href="class_o_s_r_library.html#ae618f217c2caff46965a51349baa6564">insertOpenOSR</a>(</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                llvm::LLVMContext &amp;Context,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                llvm::Function &amp;F,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                llvm::Instruction &amp;OSRSrc,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                <span class="keywordtype">void</span>* extraInfo,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                <a class="code" href="class_o_s_r_library.html#a7166b51530433856a914ef4c77251468">OSRCond</a>&amp; cond,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                llvm::Value* profDataVal,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                <a class="code" href="class_o_s_r_library.html#a52c23a14d170e2f9a14d3cc537ced1b1">DestFunGenerator</a> destFunGenerator,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                std::vector&lt;llvm::Value*&gt; *valuesToTransfer,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                <a class="code" href="class_liveness_analysis.html">LivenessAnalysis</a> *LA,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                <a class="code" href="struct_o_s_r_library_1_1_o_s_r_point_config.html">OSRPointConfig</a> &amp;config);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keyword">static</span> llvm::Function* <a class="code" href="class_o_s_r_library.html#a44844714d84c311dec6afe250925b9fb">genContinuationFunc</a>(</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                    llvm::LLVMContext &amp;Context,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                    llvm::Function &amp;F1,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                    llvm::Function &amp;F2,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                    llvm::Instruction &amp;OSRSrc,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                    llvm::Instruction &amp;LPad,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                    std::vector&lt;llvm::Value*&gt; &amp;valuesToPass,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                    <a class="code" href="class_state_map.html">StateMap</a> &amp;M,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                    <span class="keyword">const</span> std::string* F2NewName,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                    <span class="keywordtype">bool</span> verbose = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                    <a class="code" href="class_state_map.html">StateMap</a>** ptrForF2NewToF2Map = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keyword">static</span> std::vector&lt;llvm::Value*&gt;* <a class="code" href="class_o_s_r_library.html#ae221fce927e6c20b2394dbf03b8032ae">getLiveValsVecAtInstr</a>(</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                            <span class="keyword">const</span> llvm::Instruction* I,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                            <a class="code" href="class_liveness_analysis.html">LivenessAnalysis</a> &amp;LA);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_s_r_library.html#ac5c96ceda7d29498b58a424a91151476">fixUsesOfFunctionsAndGlobals</a>(llvm::Function* origFun,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                                 llvm::Function* newFun);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_s_r_library.html#a4a09970b24ec4f41d04a0bd5781d5813">removeOSRPoint</a>(llvm::Instruction &amp;OSRSrc);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> applyAttributesToArguments(llvm::Function* NF, llvm::Function* F,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            std::vector&lt;llvm::Value*&gt; &amp;valuesToPass, <span class="keywordtype">bool</span> skipFirst = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> duplicateBodyIntoNewFunction(llvm::Function* F, llvm::Function *NF, llvm::ValueToValueMapTy&amp; VMap);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> fixOperandReferencesFromVMap(llvm::Function* NF, llvm::Function* F, llvm::ValueToValueMapTy &amp;VMap);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> replaceUsesAndFixSSA(llvm::Function* OSRCont, llvm::Instruction* OSRContLPad,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            std::vector&lt;llvm::Value*&gt; &amp;valuesToSetAtOrigLPad, llvm::ValueToValueMapTy &amp;VMap,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            llvm::ValueToValueMapTy &amp;updatesForVMap, llvm::SmallVectorImpl&lt;llvm::PHINode*&gt; *insertedPHINodes,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordtype">bool</span> verbose, <a class="code" href="class_state_map.html">StateMap</a>** ptrForF2NewToF2Map);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keyword">static</span> llvm::Function* duplicateFunction(llvm::Function* F, <span class="keyword">const</span> llvm::Twine &amp;Name, llvm::ValueToValueMapTy &amp;VMap);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keyword">static</span> <a class="code" href="class_o_s_r_library.html#a7166b51530433856a914ef4c77251468">OSRCond</a> regenerateOSRCond(<a class="code" href="class_o_s_r_library.html#a7166b51530433856a914ef4c77251468">OSRCond</a> &amp;cond, llvm::ValueToValueMapTy &amp;VMap);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keyword">static</span> llvm::BasicBlock* generateTriggerOSRBlock(llvm::LLVMContext &amp;Context, llvm::Function* OSRDest,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                std::vector&lt;llvm::Value*&gt; &amp;valuesToPass);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keyword">static</span> llvm::BasicBlock* insertOSRCond(llvm::LLVMContext &amp;Context, llvm::Function* F, llvm::Instruction* OSRSrc,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            llvm::BasicBlock* FireOSRBlock, <a class="code" href="class_o_s_r_library.html#a7166b51530433856a914ef4c77251468">OSRCond</a>&amp; cond, <span class="keyword">const</span> llvm::Twine&amp; BBName, <span class="keywordtype">int</span> branchTakenProb);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> printLiveVarInfoForDebug(<a class="code" href="class_liveness_analysis.html#aa973f017e708deac7898ebd3ff539edf">LivenessAnalysis::LiveValues</a> &amp;liveIn,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="class_liveness_analysis.html#aa973f017e708deac7898ebd3ff539edf">LivenessAnalysis::LiveValues</a> &amp;liveOut, std::vector&lt;llvm::Value*&gt; &amp;valuesToFetch);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keyword">static</span> <a class="code" href="class_liveness_analysis.html#aa973f017e708deac7898ebd3ff539edf">LivenessAnalysis::LiveValues</a> getLiveValsAtInstr(<span class="keyword">const</span> llvm::Instruction* I, <a class="code" href="class_liveness_analysis.html">LivenessAnalysis</a> &amp;LA);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> isConstantUsedInFunction(llvm::Constant* C, llvm::Function* F);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keyword">static</span> llvm::GlobalVariable* getVisibleDeclaration(llvm::GlobalVariable *G, llvm::Module* M);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> replaceUsesOfConstantExprInFunction(llvm::ConstantExpr* CE,</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            llvm::Constant* oldOp, llvm::Constant* newOp, llvm::Function* F);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;};</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"> * OSR library for LLVM. Copyright (C) 2015 Daniele Cono D&#39;Elia</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or modify it under</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> * the terms of the GNU Lesser General Public License as published by the Free</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> * Software Foundation; either version 3 of the License, or (at your option) any</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"> * later version.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"> * FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"> * details.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> * along with this library; if not, write to the Free Software Foundation, Inc.,</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> * 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">*/</span></div>
<div class="ttc" id="class_o_s_r_library_html"><div class="ttname"><a href="class_o_s_r_library.html">OSRLibrary</a></div><div class="ttdoc">Manipulate OSR machinery for functions. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:55</div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_a80e385e570269808de0a472bd0884d6a"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a80e385e570269808de0a472bd0884d6a">OSRLibrary::OSRPointConfig::ptrForF2NewToF2Map</a></div><div class="ttdeci">StateMap ** ptrForF2NewToF2Map</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:90</div></div>
<div class="ttc" id="class_liveness_analysis_html"><div class="ttname"><a href="class_liveness_analysis.html">LivenessAnalysis</a></div><div class="ttdoc">Compute liveness analysis information for a function. </div><div class="ttdef"><b>Definition:</b> Liveness.hpp:29</div></div>
<div class="ttc" id="class_o_s_r_library_html_a52c23a14d170e2f9a14d3cc537ced1b1"><div class="ttname"><a href="class_o_s_r_library.html#a52c23a14d170e2f9a14d3cc537ced1b1">OSRLibrary::DestFunGenerator</a></div><div class="ttdeci">void *(* DestFunGenerator)(llvm::Function *F1, llvm::Instruction *OSRSrc, void *extra, void *profDataAddr)</div><div class="ttdoc">Signature of a code generator for open OSR points. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:152</div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html">OSRLibrary::OSRPointConfig</a></div><div class="ttdoc">Data structure to encode settings for an OSR point insertion. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:69</div></div>
<div class="ttc" id="class_state_map_html"><div class="ttname"><a href="class_state_map.html">StateMap</a></div><div class="ttdoc">Map program points and values from two functions. </div><div class="ttdef"><b>Definition:</b> StateMap.hpp:31</div></div>
<div class="ttc" id="class_o_s_r_library_html_a44844714d84c311dec6afe250925b9fb"><div class="ttname"><a href="class_o_s_r_library.html#a44844714d84c311dec6afe250925b9fb">OSRLibrary::genContinuationFunc</a></div><div class="ttdeci">static llvm::Function * genContinuationFunc(llvm::LLVMContext &amp;Context, llvm::Function &amp;F1, llvm::Function &amp;F2, llvm::Instruction &amp;OSRSrc, llvm::Instruction &amp;LPad, std::vector&lt; llvm::Value * &gt; &amp;valuesToPass, StateMap &amp;M, const std::string *F2NewName, bool verbose=false, StateMap **ptrForF2NewToF2Map=nullptr)</div><div class="ttdoc">Generate an OSR continuation function. </div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_a5b1d4771ba69799aa2191b11ac1a8936"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5b1d4771ba69799aa2191b11ac1a8936">OSRLibrary::OSRPointConfig::branchTakenProb</a></div><div class="ttdeci">int branchTakenProb</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:75</div></div>
<div class="ttc" id="class_o_s_r_library_html_adbe6f9bc3a466933756c32d83471bc74"><div class="ttname"><a href="class_o_s_r_library.html#adbe6f9bc3a466933756c32d83471bc74">OSRLibrary::OSRPointConfig</a></div><div class="ttdeci">struct OSRLibrary::OSRPointConfig OSRPointConfig</div><div class="ttdoc">Data structure to encode settings for an OSR point insertion. </div></div>
<div class="ttc" id="class_o_s_r_library_html_ae221fce927e6c20b2394dbf03b8032ae"><div class="ttname"><a href="class_o_s_r_library.html#ae221fce927e6c20b2394dbf03b8032ae">OSRLibrary::getLiveValsVecAtInstr</a></div><div class="ttdeci">static std::vector&lt; llvm::Value * &gt; * getLiveValsVecAtInstr(const llvm::Instruction *I, LivenessAnalysis &amp;LA)</div><div class="ttdoc">Get the set of live values at a program point as a vector. </div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_af3fd85e2efeacf8fc6855c70dc7d61c1"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#af3fd85e2efeacf8fc6855c70dc7d61c1">OSRLibrary::OSRPointConfig::nameForNewF1</a></div><div class="ttdeci">const std::string * nameForNewF1</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:78</div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_a5f0f5faf47ae88698d9ed9e93d1fb366"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a5f0f5faf47ae88698d9ed9e93d1fb366">OSRLibrary::OSRPointConfig::modForNewF1</a></div><div class="ttdeci">llvm::Module * modForNewF1</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:80</div></div>
<div class="ttc" id="class_o_s_r_library_html_a7166b51530433856a914ef4c77251468"><div class="ttname"><a href="class_o_s_r_library.html#a7166b51530433856a914ef4c77251468">OSRLibrary::OSRCond</a></div><div class="ttdeci">std::vector&lt; llvm::Instruction * &gt; OSRCond</div><div class="ttdoc">Condition to evaluate in order to take an OSR decision. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:63</div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_a99412a5d51b083acd9cb0d997abdc018"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a99412a5d51b083acd9cb0d997abdc018">OSRLibrary::OSRPointConfig::updateF1</a></div><div class="ttdeci">bool updateF1</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:73</div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_a9f962c18b79242c18c0af3e9e9068317"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a9f962c18b79242c18c0af3e9e9068317">OSRLibrary::OSRPointConfig::ptrForF1NewToF1Map</a></div><div class="ttdeci">StateMap ** ptrForF1NewToF1Map</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:82</div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_a79ee42cc892700c4ce5fb988f001804f"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a79ee42cc892700c4ce5fb988f001804f">OSRLibrary::OSRPointConfig::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:71</div></div>
<div class="ttc" id="class_o_s_r_library_html_ae618f217c2caff46965a51349baa6564"><div class="ttname"><a href="class_o_s_r_library.html#ae618f217c2caff46965a51349baa6564">OSRLibrary::insertOpenOSR</a></div><div class="ttdeci">static OSRPair insertOpenOSR(llvm::LLVMContext &amp;Context, llvm::Function &amp;F, llvm::Instruction &amp;OSRSrc, void *extraInfo, OSRCond &amp;cond, llvm::Value *profDataVal, DestFunGenerator destFunGenerator, std::vector&lt; llvm::Value * &gt; *valuesToTransfer, LivenessAnalysis *LA, OSRPointConfig &amp;config)</div><div class="ttdoc">Insert an open OSR point in a function. </div></div>
<div class="ttc" id="class_o_s_r_library_html_ad15ff58ec41e3a7dea14361df86bedb9"><div class="ttname"><a href="class_o_s_r_library.html#ad15ff58ec41e3a7dea14361df86bedb9">OSRLibrary::OSRPair</a></div><div class="ttdeci">std::pair&lt; llvm::Function *, llvm::Function * &gt; OSRPair</div><div class="ttdoc">A pair of LLVM Function objects. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:66</div></div>
<div class="ttc" id="class_o_s_r_library_html_abc78df8192b40487f6681e8a8b9da055"><div class="ttname"><a href="class_o_s_r_library.html#abc78df8192b40487f6681e8a8b9da055">OSRLibrary::insertResolvedOSR</a></div><div class="ttdeci">static OSRPair insertResolvedOSR(llvm::LLVMContext &amp;Context, llvm::Function &amp;F1, llvm::Instruction &amp;OSRSrc, llvm::Function &amp;F2, llvm::Instruction &amp;LPad, OSRCond &amp;cond, StateMap &amp;M, OSRPointConfig &amp;config)</div><div class="ttdoc">Insert a resolved OSR point in a function. </div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_a8ef81a640a5f184c8becfa76cbc04070"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a8ef81a640a5f184c8becfa76cbc04070">OSRLibrary::OSRPointConfig::modForNewF2</a></div><div class="ttdeci">llvm::Module * modForNewF2</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:88</div></div>
<div class="ttc" id="class_o_s_r_library_html_ac5c96ceda7d29498b58a424a91151476"><div class="ttname"><a href="class_o_s_r_library.html#ac5c96ceda7d29498b58a424a91151476">OSRLibrary::fixUsesOfFunctionsAndGlobals</a></div><div class="ttdeci">static bool fixUsesOfFunctionsAndGlobals(llvm::Function *origFun, llvm::Function *newFun)</div><div class="ttdoc">Add declarations and replace uses for references to globals and other functions. </div></div>
<div class="ttc" id="class_o_s_r_library_html_a4a09970b24ec4f41d04a0bd5781d5813"><div class="ttname"><a href="class_o_s_r_library.html#a4a09970b24ec4f41d04a0bd5781d5813">OSRLibrary::removeOSRPoint</a></div><div class="ttdeci">static bool removeOSRPoint(llvm::Instruction &amp;OSRSrc)</div><div class="ttdoc">Remove an OSR point from a function. </div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_acdb724277ed62462b9e6a99a26b1e3e1"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#acdb724277ed62462b9e6a99a26b1e3e1">OSRLibrary::OSRPointConfig::nameForNewF2</a></div><div class="ttdeci">const std::string * nameForNewF2</div><div class="ttdoc">See constructor. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:85</div></div>
<div class="ttc" id="class_liveness_analysis_html_aa973f017e708deac7898ebd3ff539edf"><div class="ttname"><a href="class_liveness_analysis.html#aa973f017e708deac7898ebd3ff539edf">LivenessAnalysis::LiveValues</a></div><div class="ttdeci">std::set&lt; const llvm::Value * &gt; LiveValues</div><div class="ttdoc">Live values are stored using a set. </div><div class="ttdef"><b>Definition:</b> Liveness.hpp:33</div></div>
<div class="ttc" id="struct_o_s_r_library_1_1_o_s_r_point_config_html_a7f1ebe54c03a771bf4309f54944b4a2c"><div class="ttname"><a href="struct_o_s_r_library_1_1_o_s_r_point_config.html#a7f1ebe54c03a771bf4309f54944b4a2c">OSRLibrary::OSRPointConfig::OSRPointConfig</a></div><div class="ttdeci">OSRPointConfig(bool verbose=false, bool updateF1=true, int branchTakenProb=-1, const std::string *nameForNewF1=nullptr, llvm::Module *modForNewF1=nullptr, StateMap **ptrForF1NewToF1Map=nullptr, const std::string *nameForNewF2=nullptr, llvm::Module *modForNewF2=nullptr, StateMap **ptrForF2NewToF2Map=nullptr)</div><div class="ttdoc">Generate a configuration object for OSR point insertion. </div><div class="ttdef"><b>Definition:</b> OSRLibrary.hpp:124</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Nov 21 2015 12:00:25 for TinyVM + OSRKit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
